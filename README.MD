# Peak Browser

LOGO待定

基本的APP框架使用 [MkBrowser](https://github.com/mengkunsoft/MkBrowser)给出的简易WebView功能实现, 预期逐步添加新功能使其成为一个好用的现代浏览器。

## 使用指北

待定

## To Do
- 设置菜单
- 多标签浏览
- 历史记录
- 隐身模式
- 收藏夹
- 云同步
- 广告过滤
- 夜间模式
- 二维码扫描
- 内嵌搜索引擎
- 桌面版网站
- ...


## 更新日志

### 2021-12-14
#### Added

- 新增一个自定义的ImageView抽象子类MyImageView, 使得能够通过点击图片不同区域触发不同的响应函数，从而进一步完善了多标签浏览功能：现在用户可以通过点击多标签栏中网页图标右上角来关闭网页。

#### Changed

- 重新绘制了部分图形文件，重新布局了相关的图形元素。

- 更改判断合法URL的正则表达式为`"((http|https|ftp)://)?[a-zA-Z0-9_]+(\\.[a-zA-Z0-9_]+)+"`，放宽了判断准则，同时会自动为未加协议名的url添加`https://`前缀，并允许http明文传输。

- 当输入的url被检测为非法后将会使用百度作为搜索引擎搜索相关条目，但webView加载`https://www.baidu.com/s?word=something`时无法获得百度的图标信息，更换为Bing则可以正常加载。目前怀疑为百度自身的原因，故更改为必应作为搜索引擎。

- 现在用户点击URL输入栏将会自动选中全体文本。



#### Fixed

- 重写了NewPage类中相关元素的事件响应函数，多标签栏中每个图标都会单独拥有一套自己的事件响应函数。当快速新建多个标签页时，旧版本的多标签栏图标不会自动地全部更新，只有当用户点击某图标使其成为活跃页时该图标才会更新；通过重新设置事件响应函数，现在所有的图标都将会异步更新。

#### ToDo

- 页面切换时旧的网页图标有短暂的残留。在切换页面时，明显能观察到闪烁过极短时间的初始化图标，但随后又立刻被旧网页的图标替代，再过片刻待新网页完全加载后才恢复到新网页的图标。原因不明，猜测是异步函数的问题或哪里写错了，等待进一步排查。


### 2021-12-13

#### Added
 
- 完成了大部分的多标签浏览功能。

#### Changed

- 修改了原始文件的代码结构，为不同功能的类创建单独的文件。

